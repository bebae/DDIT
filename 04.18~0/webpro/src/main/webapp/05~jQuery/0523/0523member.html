<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="//code.jquery.com/jquery-3.7.0.min.js"></script>
    <link rel="stylesheet" href="../css/mystyle.css">
    <script>
        $(document).ready(function () {
            $("#btn1").on("click", function(){
              location.href = "./member.jsp";
            });

            $("#btn2").on("click", function(){
              $.ajax({
           	  	url: "./memberAjax.jsp",
                type: "get",
                dataType: "json",
                
                success: function(data){
                  code = `
                    <table border="1">
                      <tr>
                        <td>아이디</td>
                        <td>이름</td>
                        <td>전화번호</td>
                        <td>주소</td>
                        </tr>
                      `;
                  $.each(data, function(i, v){
                    code += `
                      <tr>
                        <td>${data[i].id}</td>
                        <td>${data[i].name}</td>
                        <td>${data[i].tel}</td>
                        <td>${data[i].addr}</td>
                      </tr>
                    `;
                  }); 
                  code += `</table>`;

                  $("#result1").html(code);
                },
                error : function (xhr){
					        alert("상태 : "+xhr.status);
                }
              });
            });
        });
       
    </script>
</head>

<body>
    <div class="box">
        <h3>멤버리스트<br>동기화는 새로운 페이지<br>비동기화는 현재 페이지</h3>
        <button id="btn1" type="button">memberList(동기화)</button>
        <button id="btn2" type="button">memberAjax(비동기화)</button>
        <div class="result" id="result1"></div>
    </div>
</body>

</html>